<div id="messages-container">
    {{ for msg in messages }}
    <div class="alert {{ msg.class_attr }}">
        <div class="message">
            {{ msg.msg }}
        </div>
    </div>
    {{ endfor }}
</div>

<script>
    const messages = [];

    "{{ for msg in messages }}"
    messages.push({
        class_attr: "{{ msg.class_attr }}",
        msg: "{{ msg.msg }}"
    });
    "{{ endfor }}"

    // Make JSON object containing all messages and source label

    const messagesData = {
        subsource: "results_messages",
        messages: messages
    };

    console.log(JSON.stringify(messagesData, null, 2));

    // Define getResultsMessages() function
    function getResultsMessages() {
        return messagesData;
    }
</script>
